@page "/2020"
@inject HttpClient Http

<div class="section">
    <div class="container">
        <h3>2020</h3>
    </div>

    <div class="container">
        <hr />

        <table class="table">
            <thead>
                <tr>
                    <th>Day</th>
                    <th>Title</th>
                    <th>Summary</th>
                </tr>
            </thead>

            @if (days == null)
            {
                <p><em>Loading...</em></p>
            }
            else
            {
                <tbody>
                    @foreach (dayInfo day in days)
                    {
                        <DaySummaryComponent dayI="@day"></DaySummaryComponent>
                    }
                </tbody>
            }
        </table>
    </div>
</div>

    @code {
        public dayInfo[] days;

        protected override async Task OnInitializedAsync()
        {
            days = await Http.GetFromJsonAsync<dayInfo[]>("sample-data/dayinfo.json");
        }
    }
